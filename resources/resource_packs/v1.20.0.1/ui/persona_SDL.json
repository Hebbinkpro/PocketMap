{
  "namespace": "persona_sdl",

  "persona_height_options_row": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c" ],
    "controls": [
      {
        "height_label": {
          "type": "label",
          "text": "dr.body_size_label_text",
          "color": "$dressing_room_size_default_text_color"
        }
      },
      {
        "pad_0": {
          "type": "panel",
          "size": [ "100%", 2 ]
        }
      },
      {
        "body_size_option@persona_sdl.body_sizes": {}
      }
    ],
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      }
    ]
  },

  "body_sizes@persona_sdl.body_size_option_grid": {
    "size": [ "100%", 50 ],
    "$size_option_pressed_button_name": "button.change_height",
    "$size_option_image_binding_name": "#height_image_binding",
    "$size_option_dimension_binding": "#body_size_dimensions",
    "$selection_border_binding": "#body_size_selected",
    "$equipped_border_binding": "#body_size_equipped",
    "$size_option_collection_prefix": "body_size",
    "$size_option_collection_name": "body_size_collection"
  },

  "body_size_option_grid@common.horizontal_stack_panel": {
    "collection_name": "$size_option_collection_name",
    "layer": 10,
    "bindings": [
      {
        "binding_type": "collection_details",
        "binding_collection_name": "$size_option_collection_name",
        "binding_collection_prefix": "$size_option_collection_prefix"
      }
    ],
    "controls": [
      {
        "smaller@persona_sdl.size_option_panel": {
          "$image_size": [ 18, 28.8 ],
          "collection_index": 0
        }
      },
      {
        "small@persona_sdl.size_option_panel": {
          "$image_size": [ 18, 32.4 ],
          "collection_index": 1
        }
      },
      {
        "medium@persona_sdl.size_option_panel": {
          "$image_size": [ 18, 36 ],
          "collection_index": 2
        }
      },
      {
        "tall@persona_sdl.size_option_panel": {
          "$image_size": [ 18, 37.8 ],
          "collection_index": 3
        }
      }
    ]
  },

  "size_option_panel": {
    "type": "panel",
    "$size_option_panel_size|default": [ "25%", "100%" ],
    "size": "$size_option_panel_size",
    "controls": [
      {
        "size_option_button@common.button": {
          "$button_content": "persona_sdl.size_option_content",
          "$pressed_button_name": "$size_option_pressed_button_name",
          "$focus_id": "body_option",
          "controls": [
            { "default@common.empty_panel": {} },
            {
              "hover@persona_sdl.focus_border": {
                "layer": 4
              }
            },
            {
              "pressed@persona_sdl.selected_border": {
                "layer": 3
              }
            },
            {
              "content@$button_content": {
                "layer": 2
              }
            },
            {
              "equipped@persona_sdl.equipped_border": {
                "layer": 10,
                "size": [ "100% + 2px", "100% + 2px" ],
                "$enable_border": false,
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$size_option_collection_name",
                    "binding_name": "$equipped_border_binding",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "selected@persona_sdl.selected_border": {
                "layer": 8,
                "size": [ "100% + 2px", "100% + 2px" ],
                "$enable_border": false,
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$size_option_collection_name",
                    "binding_name": "$selection_border_binding",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ],
          "button_mappings": [
            {
              "from_button_id": "button.menu_select",
              "to_button_id": "$pressed_button_name",
              "mapping_type": "pressed"
            },
            {
              "from_button_id": "button.menu_ok",
              "to_button_id": "$pressed_button_name",
              "mapping_type": "focused"
            },
            {
              "to_button_id": "button.piece_button_hovered",
              "mapping_type": "pressed"
            }
          ],
          "size": [ "100%", "100%" ],
          "bindings": [
            {
              "binding_type": "collection_details",
              "binding_collection_name": "$size_option_collection_name",
              "binding_collection_prefix": "$size_option_collection_prefix"
            }
          ]
        }
      }
    ]
  },

  "size_option_content": {
    "type": "image",
    "texture": "textures/ui/slots_bg",
    "size": [ "100% - 2px", "100%" ],
    "controls": [
      {
        "size_option_image": {
          "type": "image",
          "anchor_to": "bottom_middle",
          "anchor_from": "bottom_middle",
          "size": "$image_size",
          "offset": [ 0, -5 ],
          "bindings": [
            {
              "binding_type": "collection",
              "binding_collection_name": "$size_option_collection_name",
              "binding_name": "$size_option_image_binding_name",
              "binding_name_override": "#texture"
            }
          ]
        }
      }
    ]
  },

  "focus_border": {
    "type": "image",
    "layer": 10,
    "$border_texture|default": "textures/ui/focus_border_selected",
    "texture": "$border_texture"
  },

  "selected_border@persona_sdl.focus_border": {
    "$border_texture": "textures/ui/focus_border_white",
    "color": "$dressing_room_skin_picker_equipped_border_color"
  },

  "equipped_border": {
    "type": "image",
    "$enable_border|default": true,
    "size": [ "100%", "100%" ],
    "layer": 11,
    "texture": "textures/ui/equipped_item_border"
  }
}
